---
title: "[C++] STL set, multiset í´ë˜ìŠ¤ ì •ë¦¬"
excerpt: "set? / set ìƒì„±ìì™€ ì´ˆê¸°í™”/ setì˜ í•¨ìˆ˜ë“¤ ê·¸ë¦¬ê³  multiset? / multiset ìƒì„±ìì™€ ì´ˆê¸°í™”/ multisetì˜ í•¨ìˆ˜ë“¤"

categories:
  - C++ STL
tags:
  - [C++, STL]

permalink: /cpp-stl/basics-of-set-multiset-class/

toc: true
toc_sticky: true
 
date: 2020-06-24
last_modified_at: 2021-09-02

# sitemap :
#   changefreq : daily
#   priority : 1.0
---

# ğŸ¦¥ set?
>setì€ ì—°ê´€ ì»¨í…Œì´ë„ˆ(associative container)ì´ê³ , ê· í˜• ì´ì§„ íŠ¸ë¦¬ë¡œ êµ¬í˜„

1. **ì‚½ì…ê³¼ ë™ì‹œì— ì •ë ¬ë˜ê¸° ë•Œë¬¸ì— ë¹ ë¥´ê²Œ ê²€ìƒ‰í•  ìˆ˜ ìˆìŒ**
2. ê²€ìƒ‰, ì‚½ì…, ì‚­ì œ ë“±ì˜ ì†ë„ê°€ ë¹ ë¥´ë‹¤. (ì •ë ¬ë˜ì–´ ìˆëŠ” êµ¬ì¡°ì´ê¸° ë•Œë¬¸)
3. key ê°’ì€ ì¤‘ë³µì´ í—ˆìš©ë˜ì§€ ì•ŠìŒ. ê°’ ìì²´ê°€ elementë¥¼ identify. multisetì—ì„œëŠ” í—ˆìš©
4. elementê°€ í•œë²ˆ ì¶”ê°€ë˜ë©´ ë³€ê²½í•  ìˆ˜ ì—†ìŒ. ì‚­ì œí•˜ê³  ë³€ê²½í•  elementë¡œ ë‹¤ì‹œ ì¶”ê°€í•´ì•¼ í•¨.

# dskfjlsdjkfl
- **ì‚½ì…ê³¼ ë™ì‹œì— ì •ë ¬ë˜ê¸° ë•Œë¬¸ì— ë¹ ë¥´ê²Œ ê²€ìƒ‰í•  ìˆ˜ ìˆìŒ**

- ê²€ìƒ‰, ì‚½ì…, ì‚­ì œ ë“±ì˜ ì†ë„ê°€ ë¹ ë¥´ë‹¤. (ì •ë ¬ë˜ì–´ ìˆëŠ” êµ¬ì¡°ì´ê¸° ë•Œë¬¸)

- key ê°’ì€ ì¤‘ë³µì´ í—ˆìš©ë˜ì§€ ì•ŠìŒ. ê°’ ìì²´ê°€ elementë¥¼ identify. multisetì—ì„œëŠ” í—ˆìš©

- elementê°€ í•œë²ˆ ì¶”ê°€ë˜ë©´ ë³€ê²½í•  ìˆ˜ ì—†ìŒ. ì‚­ì œí•˜ê³  ë³€ê²½í•  elementë¡œ ë‹¤ì‹œ ì¶”ê°€í•´ì•¼ í•¨.


**ğŸŒ´ ìê°€ ê· í˜• ì´ì§„ íƒìƒ‰ íŠ¸ë¦¬?**

ì‚½ì…ê³¼ ì‚­ì œê°€ ì¼ì–´ë‚˜ëŠ” ê²½ìš°ì— ìë™ìœ¼ë¡œ ê·¸ ë†’ì´(ë£¨íŠ¸ì—ì„œë¶€í„° ë‚´ë ¤ê°ˆ ìˆ˜ ìˆëŠ” ìµœëŒ€ ë ˆë²¨)ë¥¼ ì‘ê²Œ ìœ ì§€í•˜ëŠ” ë…¸ë“œ ê¸°ë°˜ ì´ì§„ íƒìƒ‰ íŠ¸ë¦¬ì´ë‹¤. ì´ì§„ íƒìƒ‰ íŠ¸ë¦¬ê°€ ê· í˜•ì´ ì¡íˆë©´ ëª¨ë“  ì‘ì—…ì„ O(log n) ì•ˆì— ì‹¤í–‰ ê°€ëŠ¥í•˜ë‹¤.
- ëª¨ë“  ë…¸ë“œì—ì„œ ì™¼ìª½ê³¼ ì˜¤ë¥¸ìª½ ìì‹ì˜ ë†’ì´ ì°¨ëŠ” ìµœëŒ€ +/- 1
- ìƒˆë¡œìš´ elementê°€ ë“¤ì–´ì™”ì„ ë•Œ íŠ¸ë¦¬ ì¡°ì •ì„ í†µí•´ì„œ ì ì ˆí•˜ê²Œ ìœ„ì¹˜ë¥¼ ì„¤ì •

---
# ğŸ¦¥ setì˜ ìƒì„±ìì™€ ì´ˆê¸°í™”

```cpp
// <set> í—¤ë” ì¶”ê°€
#include <set>
```
```cpp
// ë¹„ì–´ìˆëŠ” set s ìƒì„±
set<int> s;
```
```cpp
// ì¡°ê±´ìë¥¼ ì •ë ¬ ê¸°ì¤€ìœ¼ë¡œ í•˜ì—¬ ë¹ˆ ì»¨í…Œì´ë„ˆ ìƒì„±. ê¸°ë³¸ ì¡°ê±´ìëŠ” less
// greater<int> ì¡°ê±´ìëŠ” ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬
 set<int, greater<int>> s; 
```
```cpp  
// ë³µì‚¬ë³¸ì„ ì›ì†Œë¡œ í•˜ëŠ” ì»¨í…Œì´ë„ˆ ìƒì„±
set<int> s(s2);
set <int> s2(s1.begin(), s1.end());
```

---
# ğŸ¦¥ setì˜ í•¨ìˆ˜ë“¤
## ğŸŒ´ Iterator

``s.begin()`` : setì˜ ì²«ë²ˆì§¸ ì›ì†Œë¥¼ ê°€ë¦¬í‚¤ëŠ” iterator ë¦¬í„´<br>
``s.end()`` : setì˜ ë§ˆì§€ë§‰ ì›ì†Œ ë‹¤ìŒì„ ê°€ë¦¬í‚¤ëŠ” iterator ë¦¬í„´(ë§ˆì§€ë§‰ ì›ì†Œ ì•„ë‹˜!!)

```cpp
for (auto i = s.begin(); i != s.end(); i++) {
	cout << *i << endl;
}
```

## ğŸŒ´ Fuction
``s.insert(k)`` : ì›ì†Œ kë¥¼ ì •ë ¬ëœ ìœ„ì¹˜ì— ì‚½ì…. ë¦¬í„´ ê°’ìœ¼ë¡œ pair(ì›ì†Œì™€ ì„±ê³µ ì—¬ë¶€) ì¶œë ¥
```cpp
pair<iterator,bool> insert (const pair<const Key, Type>& val);
 
pair<set<int>::iterator, bool> ret = s2.insert(10);
if (ret.second)
 cout << "success" << endl;
else
 cout << "fail" << endl;
```
<iterator, bool> pairë¡œ ë¦¬í„´ ë°›ê¸° ë•Œë¬¸ì— ret.firstëŠ” ì‚½ì…í•œ ìœ„ì¹˜ì— ëŒ€í•œ iterator, ret.secondì—ëŠ” ì„±ê³µ ì—¬ë¶€ ë°˜í™˜
    
```cpp
set<pair<int,int>> s;
s.insert(make_pair(1,2));
```
pairì„ ì›ì†Œë¡œí•˜ëŠ” set ìƒì„± ê°€ëŠ¥
    
```cpp
set<int> s;
it = s.find(30);
s.insert(s, 40);
```
iteratorê°€ ê°€ë¦¬í‚¤ëŠ” ìœ„ì¹˜ë¶€í„° íƒìƒ‰í•˜ì—¬ kë¥¼ ì‚½ì…

``s.size()`` : setì˜ element ê°œìˆ˜ ë¦¬í„´<br>
``s.empty()``: setì´ ë¹„ì–´ìˆëŠ”ì§€ ì—¬ë¶€ ë¦¬í„´<br>
``s.upper_bound(k)``: k ì›ì†Œì˜ upper bound (í•´ë‹¹ ì›ì†Œ)<br>
``s.lower_bound(k)``: k ì›ì†Œì˜ upper bound (ì´ì „ ì›ì†Œ)
    
``s.find(k)``: kë¥¼ ê°€ë¦¬í‚¤ëŠ” ``iterator`` ë¦¬í„´, kê°€ ì—†ìœ¼ë©´ end()ì™€ ê°™ì€ ``iterator`` ë¦¬í„´<br>
``s.erase(it)`` : ``iterator``ê°€ ê°€ë¦¬í‚¤ëŠ” ì›ì†Œ ì‚­ì œ<br>
``s.erase(it1, it2)`` : [it1, it2) rangeì˜ ì›ì†Œ ì‚­ì œ<br>
``s.clear()`` : setì˜ ëª¨ë“  ì›ì†Œ ì‚­ì œ

``s.swap(s2)`` : sì™€ s2ë¥¼ swap
  
---
# ì‹¤ìŠµ ì½”ë“œ
  
```cpp
#include <iostream>
#include <set>
#include <iterator>

using namespace std;

int main(void) {
    set <int, greater<int>> s;
    set <int> s2;

    int list[] = { 10, 30, 50, 80, 40, 20 };
    s2.insert(list, list+6);

    s.insert(2);
    s.insert(1);
    s.insert(5);
    s.insert(9);
    s.insert(3);
    s.insert(4);
    auto ret = s.insert(8);
    s.insert(5);

    cout << "ret.first(return element) : " << *ret.first << endl;
    cout << "ret.second(return true/false) : " << ret.second << endl;

    cout << "show all elements in s" << endl;
    for (auto i = s.begin(); i != s.end(); i++) {
        cout << *i << " ";
    }
    cout << endl;

    cout << "show all elements in s2" << endl;
    for (auto i = s2.begin(); i != s2.end(); i++) {
        cout << *i << " ";
    }
    cout << endl;

    cout << "\nrun s.erase(9)" << endl;
    int ret2 = s.erase(9);
    cout << ret2 << "ê°œì˜ ì›ì†Œ erased!" << endl;

    for (auto i = s.begin(); i != s.end(); i++) {
        cout << *i << " ";
    }
    cout << endl << endl;

    cout << "lower_bound(5) : " << *s.lower_bound(5) << endl;
    cout << "upper_bound(5) : " << *s.upper_bound(5) << endl;
    for (auto i = s.lower_bound(8); i != s.upper_bound(3); i++) {
        cout << *i << " ";
    }
    cout << endl << endl;

    cout << "run s.find()" << endl;
    for (auto i = s.find(8); i != s.find(3); i++) {
        cout << *i << " ";
    }
    cout << endl << endl;

    cout << "run s.clear() if s is not empty" << endl;
    if (!s.empty()) {
        s.clear();
    }

    for (auto i = s.find(8); i != s.find(3); i++) {
        cout << *i << " ";
    }
    cout << endl;
}
```
`ê²°ê³¼`
```html
ret.first(return element) : 8
ret.second(return true/false) : 1
show all elements in s
9 8 5 4 3 2 1
show all elements in s2
10 20 30 40 50 80

run s.erase(9)
1ê°œì˜ ì›ì†Œ erased!
8 5 4 3 2 1

lower_bound(5) : 5
upper_bound(5) : 4
8 5 4 3

run s.find()
8 5 4

run s.clear() if s is not empty
```

---
# ğŸ¦¥ multiset?
**multisetì€ setê³¼ ê±°ì˜ ë™ì¼í•˜ì§€ë§Œ, ì¤‘ë³µëœ keyê°’ì„ í—ˆìš©í•˜ëŠ” ì»¨í…Œì´ë„ˆì´ë‹¤.**


# ğŸ¦¥ multisetì˜ ìƒì„±ìì™€ ì´ˆê¸°í™”

```cpp
// <set> í—¤ë” ì¶”ê°€
#include <set>
``` 
```cpp
// ë¹„ì–´ìˆëŠ” set s ìƒì„±
multiset<int> mts;
```
```cpp
// ì¡°ê±´ìë¥¼ ì •ë ¬ ê¸°ì¤€ìœ¼ë¡œ í•˜ì—¬ ë¹ˆ ì»¨í…Œì´ë„ˆ ìƒì„±. ê¸°ë³¸ ì¡°ê±´ìëŠ” less
// greater<int> ì¡°ê±´ìëŠ” ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬
 multiset<int, greater<int>> mts; 
```
```cpp  
// ë³µì‚¬ë³¸ì„ ì›ì†Œë¡œ í•˜ëŠ” ì»¨í…Œì´ë„ˆ ìƒì„±
multiset<int> mts(mts2);
multiset <int> mts2(mts1.begin(), mts1.end());
```

---
# ğŸ¦¥ multisetì˜ í•¨ìˆ˜ë“¤
## ğŸŒ´ Iterator
  ``set``ê³¼ ë™ì¼

## ğŸŒ´ Fuction
``set``ê³¼ ê±°ì˜ ë™ì¼. ì¤‘ìš”í•˜ê±°ë‚˜ ë‹¤ë¥¸ ë¶€ë¶„ë§Œ ì„¤ëª….
  
``mts.insert(k)`` : ì›ì†Œ kë¥¼ ì •ë ¬ëœ ìœ„ì¹˜ì— ì‚½ì…. ë¦¬í„´ ê°’ìœ¼ë¡œ ì›ì†Œ ì¶œë ¥
```cpp
iterator insert (const value_type& val);
 
std::multiset<int>::iterator ret = mts.insert(10);
```
elementë¥¼ ê°€ë¦¬í‚¤ëŠ” iterator ë¦¬í„´

``s.upper_bound(k)`` : ì›ì†Œ kê°€ ìˆëŠ” êµ¬ê°„ì˜ ë(ê·¸ ë‹¤ìŒ ì›ì†Œ)ì„ ê°€ë¦¬í‚¤ëŠ” ``iterator`` ë¦¬í„´
  
``s.upper_bound(k)`` : ì›ì†Œ kê°€ ìˆëŠ” êµ¬ê°„ì˜ ì²˜ìŒì„ ê°€ë¦¬í‚¤ëŠ” ``iterator`` ë¦¬í„´
  
``s.equal_range(k)`` : ì›ì†Œ kê°€ ìˆëŠ” êµ¬ê°„ì„ ë‚˜íƒ€ë‚´ëŠ” pair ê°ì²´ ë¦¬í„´ (`upper_bound` + `lower_bound`)

---
# ì‹¤ìŠµ ì½”ë“œ
  
```cpp
#include <iostream>
#include <set>
#include <iterator>

using namespace std;

int main(void) {
    multiset <int, greater<int>> mts;

    mts.insert(2);
    mts.insert(1);
    mts.insert(5);
    mts.insert(9);
    mts.insert(9);
    mts.insert(9);
    mts.insert(3);
    mts.insert(4);
    auto ret = mts.insert(8);
    mts.insert(5);
    mts.insert(5);

    cout << "insert ret : " << *ret << endl << endl;

    cout << "show all elements in mts" << endl;
    for (auto i = mts.begin(); i != mts.end(); i++) {
        cout << *i << " ";
    }
    cout << endl << endl;

    cout << "run mts.erase(9)" << endl;
    int ret2 = mts.erase(9);
    cout << ret2 << "ê°œì˜ ì›ì†Œ erased!" << endl;

    for (auto i = mts.begin(); i != mts.end(); i++) {
        cout << *i << " ";
    }
    cout << endl << endl;

    cout << "lower_bound(5) : " << *mts.lower_bound(5) << endl;
    cout << "upper_bound(5) : " << *mts.upper_bound(5) << endl;
    for (auto i = mts.lower_bound(5); i != mts.upper_bound(5); i++) {
        cout << *i << " ";
    }
    cout << endl << endl;

    cout << "run equal_pair" << endl;
    auto p = mts.equal_range(5);
    for (auto i = p.first; i != p.second; i++) {
        cout << *i << " ";
    }
}
```
`ê²°ê³¼`
```html
insert ret : 8

show all elements in mts
9 9 9 8 5 5 5 4 3 2 1

run mts.erase(9)
3ê°œì˜ ì›ì†Œ erased!
8 5 5 5 4 3 2 1

lower_bound(5) : 5
upper_bound(5) : 4
5 5 5

run equal_pair
5 5 5
```